<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Manager</title>
    <link rel="stylesheet" href="static/style.css">
</head>

<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>

<!-- Dynamically Created Buttons -->
<script src="{{ url_for('static', filename='main.js') }}"></script>

<!-- Static Buttons -->
<script src="{{ url_for('static', filename='static.js') }}"></script>

<body>

    <!-- Task Manager Title -->
    <h1>Task Manager</h1>


    <!-- Dynamically Generated Sticky Notes (Tasks) -->
    <div class="task-container">

         {% for task in tasks %}
         <div class="sticky-note" data-id="{{ task[0]}}" data-start="{{ task[2] }}">

            <textarea>{{ task[1] or 'No description provided.' }}</textarea>
            
            <!-- {% if task[2] %}
                <p style="margin: 0 auto; text-align: center; width: fit-content;" data-start="{{ task[2] }}" class="timer">Timer</p>
            {% endif %} -->
                        
            <div class="btn-container" data-id="{{ task[0]}}">
                <button type="button" class="delete-btn" data-id="{{ task[0]}}">
                    <!-- <img src="static/trash.png" alt="Save" style="width: 30px; height: 30px;"> -->
                    🗑️
                </button>

                {% if not task[2] %}
                <button type="button" class="begin-btn" data-id="{{ task[0]}}">Start</button>
                {% else %}
                <button type="button" class="complete-btn">Complete</button>
                <button type="button" class="pause-btn" data-id="{{ task[0]}}">Pause</button>
                {% endif %}

            </div>

        </div>
        {% endfor %}
         
        <!-- Main container with form and tasks side by side -->

        <div class="form-container sticky-note">
            <form>
                <textarea id="text" name="text" placeholder="Type to add a task..." required></textarea>
            
                <button type="button" id="save">Save</button>
            </form>
        </div>

    </div>



</body>
</html>